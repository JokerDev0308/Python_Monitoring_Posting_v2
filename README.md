
# 商品監視および投稿システム

このプロジェクトは、Amazon Japanの商品の在庫状況や価格を監視し、在庫がある場合にソーシャルメディアに更新を投稿することを目的としています。このアプリケーションは、ウェブスクレイピングを使用して在庫情報を収集し、ユーザーインターフェースにはPyQt5を利用しています。

## Version

2.0

## 機能

- **商品監視**: 指定された商品の在庫状況と価格変動を監視します。
- **ウェブスクレイピング**: BeautifulSoupを使用してAmazon Japanから商品詳細をスクレイピングします。
- **通知システム**: 商品が在庫あり、かつ指定された価格条件を満たす場合に通知を送信します。
- **ユーザーインターフェース**: PyQt5で構築されたインタラクティブな体験。

## 必要条件

このプロジェクトを実行するには、以下のものがインストールされている必要があります。

- Python 3.x
- PyQt5
- pandas
- requests
- beautifulsoup4
- openpyxl

必要なライブラリは、次のコマンドでインストールできます。

```bash
pip install PyQt5 pandas requests beautifulsoup4 openpyxl
```

## 使用方法

1. このリポジトリをクローンするか、ソースコードをダウンロードします。
2. 設定用の有効な `settings.json` ファイルを用意します。
3. `product_list.xlsx` という名前のExcelファイルを作成し、以下のシートを含めます。
   - **product_list**: 監視する商品のリスト。
   - **settings**: 通知の設定を含む。
4. アプリケーションを実行します。

   ```bash
   python monitor_thread.py
   ```

5. アプリケーションがExcelファイルにリストされた商品を監視し始めます。

## コード概要

プロジェクトの主なコンポーネントは以下の通りです。

- **`monitor_thread.py`**: 監視ロジックとユーザーインタラクションを処理します。
- **`amazon_scraper.py`**: 商品の在庫状況と価格を取得するためのスクレイピングロジックを含みます。
- **`sns_posting.py`**: ソーシャルメディアへの投稿を管理します。
- **`utils.py`**: 商品の状態や設定を処理するためのユーティリティ関数。

## エラーハンドリング

アプリケーションは、以下のような問題を管理するためのエラーハンドリングを含んでいます。
- 商品データ取得中のネットワークエラー。
- HTMLレスポンスからのデータ解析エラー。

監視中にエラーが発生した場合、それらは `post_log.txt` に記録されます。

## サンプル設定

`settings.json` のサンプルは次のようになります。

```json
{
    "notification_start_time": "09:00",
    "notification_end_time": "21:00"
}
```

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。詳細については、[LICENSE](LICENSE)ファイルを参照してください。

## 謝辞

- [Beautiful Soup ドキュメント](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)
- [PyQt5 ドキュメント](https://www.riverbankcomputing.com/static/Docs/PyQt5/)
```

### カスタマイズ
プロジェクトの具体的な内容に合わせて、必要に応じて内容を変更してください！